common_config: &common_config
  name: "{{$device-name}}"
  identity:
    platform-name: "Sarien"
    smbios-name-match: "{{$fw-name}}"
    sku-id: "{{$sku-id}}"
  firmware:
    no-firmware: True
  power:
    suspend-to-idle: "1"
    has-charge-controller: "1"
  audio:
    main:
      # If the generic ucm is not sufficient, the device
      # should override the generic source by setting
      #  $ucm_src_root: "{{$device-name}}"
      $cras_root: "/etc/cras"
      $ucm_src_root: "common"
      $ucm_root: "/usr/share/alsa/ucm"
      $card: "HDA\ Intel\ PCH"
      cras-config-dir: "{{$device-name}}"
      $alsa_module_src_root: "common"
      $modprobe_root: "/etc/modprobe.d"
      $fw_patch_root: "/lib/firmware"
      files:
        # ALSA UCM configuration file
        - source: "{{$ucm_src_root}}/audio/ucm-config/{{$card}}/{{$card}}.conf"
          destination: "{{$ucm_root}}/{{$card}}/{{$card}}.conf"
        # ALSA UCM SectionUseCase configuration (defined in UCM conf file)
        - source: "{{$ucm_src_root}}/audio/ucm-config/{{$card}}/HiFi.conf"
          destination: "{{$ucm_root}}/{{$card}}/HiFi.conf"
        # ALSA module conf file
        - source: "{{$alsa_module_src_root}}/audio/alsa-module-config/alsa-sarien.conf"
          destination: "{{$modprobe_root}}/alsa-sarien.conf"
        # ALSA module patch file
        - source: "{{$alsa_module_src_root}}/audio/alsa-module-config/sarien_alsa.fw"
          destination: "{{$fw_patch_root}}/sarien_alsa.fw"
        # Volume Curve configuration file
        - source: "{{$device-name}}/audio/cras-config/{{$card}}"
          destination: "{{$cras_root}}/{{cras-config-dir}}/{{$card}}"
        # EQ/DRC DSP configuration file
        - source: "{{$device-name}}/audio/cras-config/dsp.ini"
          destination: "{{$cras_root}}/{{cras-config-dir}}/dsp.ini"
  $bluetooth-device: "common"
  bluetooth:
    config:
      build-path: "{{$bluetooth-device}}/bluetooth/main.conf"
      system-path: "/etc/bluetooth/{{$bluetooth-device}}/main.conf"
chromeos:
  devices:
    - $device-name: "sarien"
      $fw-name: "Sarien"
      skus:
        - $sku-id: 1
          config: *common_config
    - $device-name: "arcada"
      $fw-name: "Arcada"
      skus:
        - $sku-id: 2
          config: *common_config
